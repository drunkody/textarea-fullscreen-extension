# –°–ª–∞–π–¥ 2: –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ React –≤ Content Script

**–í–µ—Ç–∫–∞:** `react/02-react-content-script`

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ React Content Script?

Content script, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í–º–µ—Å—Ç–æ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ DOM –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—É—é –º–æ–¥–µ–ª—å React –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
- ‚ö° **React –≤ Content Scripts** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –ª—é–±–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ
- üé® **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ UI –∫–∞–∫ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
- üì¶ **API createRoot** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è React 18+
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ TSX** - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript + JSX –≤ WXT

---

## üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

<details>
<summary><b>–ù–æ–≤—ã–µ/–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</b></summary>

- üìÅ [entrypoints/content/index.tsx](../textarea-fullscreen-react/entrypoints/content/index.tsx)
- üìÅ [entrypoints/content/ContentApp.tsx](../textarea-fullscreen-react/entrypoints/content/ContentApp.tsx)

</details>

<details>
<summary><b>–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</b></summary>

- üìÑ [wxt.config.ts](../textarea-fullscreen-react/wxt.config.ts)
- üìÑ [package.json](../textarea-fullscreen-react/package.json)

</details>

---

## ‚úÖ –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —ç—Ç–æ–º —Å–ª–∞–π–¥–µ

- ‚úÖ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω `content.ts` –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React —Å `createRoot`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ContentApp.tsx`
- ‚úÖ React UI –≤–Ω–µ–¥—Ä–µ–Ω –Ω–∞ –∫–∞–∂–¥—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤—ã—Å–æ–∫–∏–π z-index –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ–≤–µ—Ä—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

**–î–∞–ª–µ–µ:** [–°–ª–∞–π–¥ 3: –ê–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç—ã –∏ —Ö—É–∫–∏](./03-auto-imports-and-hooks.md)  

---

## üìë –ü–æ–¥—Ä–æ–±–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ

- [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
- [–®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#—à–∞–≥–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏](#–∫–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
- [–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ó–∞–¥–∞–Ω–∏–µ](#–∑–∞–¥–∞–Ω–∏–µ)

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```mermaid
graph TB
    A[–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞] --> B[WXT –≤–Ω–µ–¥—Ä—è–µ—Ç content.js]
    B --> C[–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è defineContentScript main]
    C --> D[–°–æ–∑–¥–∞–µ—Ç—Å—è div –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä]
    D --> E[–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ document.body]
    E --> F[createRoot –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ]
    F --> G[–†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è React ContentApp]
    G --> H[React UI –≤–∏–¥–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ]
    
    style C fill:#54bc4a
    style G fill:#61dafb
    style H fill:#ffa500
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–µ—â–∞–µ—Ç –ª—é–±—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ë—Ä–∞—É–∑–µ—Ä –≤–Ω–µ–¥—Ä—è–µ—Ç –≤–∞—à content script
3. –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä div
4. React –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
5. –í–∞—à–∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

---

## –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤

**–°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
üìÇ entrypoints/
   üìÑ content.ts
```

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
üìÇ entrypoints/
   üìÇ content/
      üìÑ index.tsx       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–¥–æ–ª–∂–Ω–∞ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è index)
      üìÑ ContentApp.tsx  # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

**–ü–æ—á–µ–º—É?**
- –î–µ—Ä–∂–∏—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤–º–µ—Å—Ç–µ
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –±–æ–ª—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤/—Å—Ç–∏–ª–µ–π –ø–æ–∑–∂–µ
- WXT –∏—â–µ—Ç `index.tsx` –∫–∞–∫ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞

---

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ Content Script

```typescript
// entrypoints/content/index.tsx
import { createRoot } from 'react-dom/client';
import ContentApp from './ContentApp';

export default defineContentScript({
  matches: ['<all_urls>'],
  
  main() {
    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    const container = document.createElement('div');
    container.id = 'textarea-fullscreen-root';
    document.body.appendChild(container);
    
    // –ú–æ–Ω—Ç–∏—Ä—É–µ–º React
    const root = createRoot(container);
    root.render(<ContentApp />);
  },
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `matches: ['<all_urls>']` - –ó–∞–ø—É—Å–∫ –Ω–∞ –∫–∞–∂–¥–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `main()` - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∫—Ä–∏–ø—Ç–∞
- –°–æ–∑–¥–∞–µ—Ç div –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —ç—Ç–æ—Ç div

---

### 3. –°–æ–∑–¥–∞–Ω–∏–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```tsx
// entrypoints/content/ContentApp.tsx
export default function ContentApp() {
  return (
    <div style={{ 
      position: 'fixed', 
      top: 10, 
      right: 10, 
      background: 'white',
      padding: '10px',
      border: '2px solid #54bc4a',
      borderRadius: '4px',
      zIndex: 999999,
      fontFamily: 'sans-serif',
      fontSize: '14px',
      boxShadow: '0 2px 8px rgba(0,0,0,0.15)'
    }}>
      ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
    </div>
  );
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Å—Ç–∏–ª—è–º:**
- `position: fixed` - –û—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
- `zIndex: 999999` - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `top/right: 10` - –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

---

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª—é–±–æ–º –≤–µ–±-—Å–∞–π—Ç–µ

**–®–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä
3. –ü–æ—Å–µ—Ç–∏—Ç–µ **–ª—é–±–æ–π –≤–µ–±-—Å–∞–π—Ç** (–Ω–∞–ø—Ä–∏–º–µ—Ä, google.com, github.com)
4. –£–≤–∏–¥–∏—Ç–µ –±–µ–π–¥–∂ "‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

---

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è 1: Content Script vs Popup

```mermaid
graph LR
    subgraph Popup
        P[–ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ] --> PR[–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è popup.html]
        PR --> PUI[–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UI]
    end
    
    subgraph Content Script
        CS[–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã] --> CI[–í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞]
        CI --> CUI[UI –≤–Ω–µ–¥—Ä–µ–Ω –≤ DOM —Å—Ç—Ä–∞–Ω–∏—Ü—ã]
    end
    
    style PUI fill:#61dafb
    style CUI fill:#54bc4a
```

**–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**
- **Popup:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- **Content Script:** –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, —Ä–∞–∑–¥–µ–ª—è–µ—Ç DOM —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
- **–°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** Content scripts –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç/—É–ª—É—á—à–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è 2: –ó–∞—á–µ–º —Ñ—É–Ω–∫—Ü–∏—è `main()`?

**‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:**
```typescript
const container = document.createElement('div'); // –û—à–∏–±–∫–∞! –ù–µ—Ç 'document' –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏

export default defineContentScript({
  matches: ['<all_urls>'],
  main() {
    document.body.appendChild(container);
  }
});
```

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
```typescript
export default defineContentScript({
  matches: ['<all_urls>'],
  main() {
    const container = document.createElement('div'); // ‚úì –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    document.body.appendChild(container);
  }
});
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- WXT –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç content scripts –≤–æ –≤—Ä–µ–º—è **—Å–±–æ—Ä–∫–∏** (—Å—Ä–µ–¥–∞ Node.js)
- `document`, `window` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Node.js
- –§—É–Ω–∫—Ü–∏—è `main()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ **–±—Ä–∞—É–∑–µ—Ä–µ**, –≥–¥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç DOM

---

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è 3: React createRoot (React 18+)

```mermaid
graph LR
    A[–°—Ç–∞—Ä—ã–π: ReactDOM.render] -->|–£—Å—Ç–∞—Ä–µ–ª| B[–ù–æ–≤—ã–π: createRoot]
    B --> C[–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏]
    C --> D[–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å]
    
    style B fill:#61dafb
    style D fill:#54bc4a
```

**–°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (React 17):**
```typescript
import ReactDOM from 'react-dom';
ReactDOM.render(<App />, container);
```

**–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (React 18+):**
```typescript
import { createRoot } from 'react-dom/client';
const root = createRoot(container);
root.render(<App />);
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–π–¥–∂–∞

```tsx
// entrypoints/content/ContentApp.tsx
export default function ContentApp() {
  return (
    <div style={{ 
      position: 'fixed', 
      top: 10, 
      right: 10, 
      background: 'white',
      padding: '10px',
      zIndex: 999999 
    }}>
      –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ ‚úì
    </div>
  );
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç –±–µ–π–¥–∂ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ ‚úì"
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞—Ç—Ç–µ—Ä–Ω—É

---

### –ü—Ä–∏–º–µ—Ä 2: –° —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```tsx
// entrypoints/content/ContentApp.tsx
import { useState } from 'react';

export default function ContentApp() {
  const [count, setCount] = useState(0);

  return (
    <div style={{ 
      position: 'fixed', 
      top: 10, 
      right: 10, 
      background: 'white',
      padding: '10px',
      zIndex: 999999 
    }}>
      <p>–ü–æ—Å–µ—â–µ–Ω–∏–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: {count}</p>
      <button onClick={() => setCount(c => c + 1)}>
        –£–≤–µ–ª–∏—á–∏—Ç—å
      </button>
    </div>
  );
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –î–æ–±–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ React —Å `useState`
- –ö–Ω–æ–ø–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ React —Ö—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ content scripts

---

### –ü—Ä–∏–º–µ—Ä 3: –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```tsx
// entrypoints/content/ContentApp.tsx
function Badge({ children }) {
  return (
    <div style={{
      background: '#54bc4a',
      color: 'white',
      padding: '5px 10px',
      borderRadius: '4px',
      fontSize: '12px'
    }}>
      {children}
    </div>
  );
}

export default function ContentApp() {
  return (
    <div style={{ 
      position: 'fixed', 
      top: 10, 
      right: 10, 
      zIndex: 999999 
    }}>
      <Badge>‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ</Badge>
    </div>
  );
}
```

---

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

<details>
<summary><b>–ü–∞—Ç—Ç–µ—Ä–Ω 1: –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</b></summary>

```tsx
export default function ContentApp() {
  const [visible, setVisible] = useState(true);

  if (!visible) return null;

  return (
    <div style={{ position: 'fixed', top: 10, right: 10, zIndex: 999999 }}>
      –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
      <button onClick={() => setVisible(false)}>–°–∫—Ä—ã—Ç—å</button>
    </div>
  );
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ UI –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏–π
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –£—Å–ª–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

</details>

<details>
<summary><b>–ü–∞—Ç—Ç–µ—Ä–Ω 2: –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</b></summary>

```tsx
export default function ContentApp() {
  useEffect(() => {
    console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω');
    
    return () => {
      console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω');
      // –ö–æ–¥ –æ—á–∏—Å—Ç–∫–∏ –∑–¥–µ—Å—å
    };
  }, []);

  return <div>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</div>;
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –û—á–∏—Å—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤/—Ç–∞–π–º–∞—É—Ç–æ–≤
- –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

</details>

<details>
<summary><b>–ü–∞—Ç—Ç–µ—Ä–Ω 3: –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å –≤—ã—Å–æ–∫–∏–º z-index</b></summary>

```tsx
const OVERLAY_STYLES = {
  position: 'fixed',
  zIndex: 2147483647, // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ z-index
  top: 0,
  right: 0,
  // ... –¥—Ä—É–≥–∏–µ —Å—Ç–∏–ª–∏
};

export default function ContentApp() {
  return <div style={OVERLAY_STYLES}>–í—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—Ö—É</div>;
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–≤–µ—Ä–ª–µ–∏
- UI —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π

</details>

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

<details>
<summary><b>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</b></summary>

- üìö [WXT Content Scripts](https://wxt.dev/guide/essentials/content-scripts.html)
- üìö [React createRoot API](https://react.dev/reference/react-dom/client/createRoot)
- üéì [Chrome Content Scripts](https://developer.chrome.com/docs/extensions/mv3/content_scripts/)
- üí° [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ React –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è—Ö](https://wxt.dev/guide/frameworks/react.html)

</details>

---

## –ó–∞–¥–∞–Ω–∏–µ

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏:**

1. –î–æ–±–∞–≤—å—Ç–µ —Å—á–µ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ textarea –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
2. –û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –≤–∞—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –±–µ–π–¥–∂–∞
3. –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—á–µ—Ç—á–∏–∫ –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö textarea

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ë–µ–π–¥–∂ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–ù–∞–π–¥–µ–Ω–æ textarea: 3"
- –°—á–µ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ë–æ–Ω—É—Å:**
- –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –≤—Å–µ—Ö textarea –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π textarea

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:**
```tsx
const textareas = document.querySelectorAll('textarea');
console.log('–ù–∞–π–¥–µ–Ω–æ:', textareas.length);
```

---

**–î–∞–ª–µ–µ:** [–°–ª–∞–π–¥ 3: –ê–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç—ã –∏ —Ö—É–∫–∏](./03-auto-imports-and-hooks.md)